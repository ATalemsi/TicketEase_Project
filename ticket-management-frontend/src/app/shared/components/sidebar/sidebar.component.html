<nav class="fixed inset-y-0 left-0 w-64 bg-gradient-to-b from-primary-950 to-primary-800 text-slate-100 shadow-xl flex flex-col gap-2 overflow-y-auto" role="navigation">
  <!-- Logo Area -->
  <div class="px-6 py-8">
    <div class="flex items-center gap-3">
      <div class="p-2 rounded-lg bg-primary-700/30">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-6 h-6 text-primary-100">
          <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
          <polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline>
          <polyline points="7.5 19.79 7.5 14.6 3 12"></polyline>
          <polyline points="21 12 16.5 14.6 16.5 19.79"></polyline>
          <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
          <line x1="12" y1="22.08" x2="12" y2="12"></line>
        </svg>
      </div>
      <span class="text-xl font-bold text-primary-200">Ticket System</span>
    </div>
  </div>

  <!-- Navigation Links -->
  <div class="px-4 flex-1">


    <!-- Client Space -->
    <ng-container *ngIf="(userRole$ | async) === 'CLIENT'">
      <div class="mt-6 mb-2 px-4">
        <span class="text-xs font-semibold text-slate-400 uppercase tracking-wider">Client Space</span>
      </div>
      <button
        class="flex w-full items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 ease-in-out hover:bg-primary-700/50 hover:translate-x-1 active:bg-primary-700/70 group focus:outline-none focus:ring-2 focus:ring-primary-100 focus:ring-offset-2 focus:ring-offset-primary-800"
        (click)="navigateTo('/client/dashboard')"
        aria-label="Navigate to Dashboard">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-primary-200 group-hover:text-primary-100 transition-colors" aria-hidden="true">
          <rect x="3" y="3" width="7" height="7"></rect>
          <rect x="14" y="3" width="7" height="7"></rect>
          <rect x="14" y="14" width="7" height="7"></rect>
          <rect x="3" y="14" width="7" height="7"></rect>
        </svg>
        <span class="font-medium">Dashboard</span>
      </button>
      <button
        class="flex w-full items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 ease-in-out hover:bg-primary-700/50 hover:translate-x-1 active:bg-primary-700/70 group focus:outline-none focus:ring-2 focus:ring-primary-100 focus:ring-offset-2 focus:ring-offset-primary-800"
        (click)="navigateTo('/client/create-ticket')"
        aria-label="Create New Ticket">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-primary-200 group-hover:text-primary-100 transition-colors" aria-hidden="true">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="8" x2="12" y2="16"></line>
          <line x1="8" y1="12" x2="16" y2="12"></line>
        </svg>
        <span class="font-medium">Create Ticket</span>
      </button>
      <button
        class="flex w-full items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 ease-in-out hover:bg-primary-700/50 hover:translate-x-1 active:bg-primary-700/70 group focus:outline-none focus:ring-2 focus:ring-primary-100 focus:ring-offset-2 focus:ring-offset-primary-800"
        (click)="navigateTo('/client/ticket-list')"
        aria-label="View Ticket History">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-primary-200 group-hover:text-primary-100 transition-colors" aria-hidden="true">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        <span class="font-medium">Ticket History</span>
      </button>
    </ng-container>

    <!-- Agent Space -->
    <ng-container *ngIf="(userRole$ | async) === 'AGENT'">
      <div class="mt-6 mb-2 px-4">
        <span class="text-xs font-semibold text-slate-400 uppercase tracking-wider">Agent Space</span>
      </div>
      <button
        class="flex w-full items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 ease-in-out hover:bg-primary-700/50 hover:translate-x-1 active:bg-primary-700/70 group focus:outline-none focus:ring-2 focus:ring-primary-100 focus:ring-offset-2 focus:ring-offset-primary-80"
        (click)="navigateTo('/agent/assigned-tickets')"
        aria-label="View Assigned Tickets">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-slate-400 group-hover:text-sky-400 transition-colors" aria-hidden="true">
          <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
          <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
          <path d="M9 14l2 2 4-4"></path>
        </svg>
        <span class="font-medium">Assigned Tickets</span>
      </button>
      <button
        class="flex w-full items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 ease-in-out hover:bg-primary-700/50 hover:translate-x-1 active:bg-primary-700/70 group focus:outline-none focus:ring-2 focus:ring-primary-100 focus:ring-offset-2 focus:ring-offset-primary-80"
        (click)="navigateTo('/agent/ticket-queue')"
        aria-label="Manage Tickets">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-slate-400 group-hover:text-sky-400 transition-colors" aria-hidden="true">
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
        <span class="font-medium">Ticket Management</span>
      </button>
    </ng-container>

    <!-- Admin Space -->
    <ng-container *ngIf="(userRole$ | async) === 'ADMIN'">
      <div class="mt-6 mb-2 px-4">
        <span class="text-xs font-semibold text-slate-400 uppercase tracking-wider">Admin Space</span>
      </div>
      <button
        class="flex w-full items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 ease-in-out hover:bg-primary-700/50 hover:translate-x-1 active:bg-primary-700/70 group focus:outline-none focus:ring-2 focus:ring-primary-100 focus:ring-offset-2 focus:ring-offset-primary-80"
        (click)="navigateTo('/admin/user-management')"
        aria-label="Manage Users">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-slate-400 group-hover:text-sky-400 transition-colors" aria-hidden="true">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
        </svg>
        <span class="font-medium">User Management</span>
      </button>
      <button
        class="flex w-full items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 ease-in-out hover:bg-primary-700/50 hover:translate-x-1 active:bg-primary-700/70 group focus:outline-none focus:ring-2 focus:ring-primary-100 focus:ring-offset-2 focus:ring-offset-primary-80"
        (click)="navigateTo('/admin/ticket-assignment')"
        aria-label="Assign Tickets Manually">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-slate-400 group-hover:text-sky-400 transition-colors" aria-hidden="true">
          <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
          <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
        </svg>
        <span class="font-medium">Manual Ticket Assignment</span>
      </button>
      <button
        class="flex w-full items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 ease-in-out hover:bg-slate-700 hover:translate-x-1 active:bg-slate-600 group focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2 focus:ring-offset-slate-800"
        (click)="navigateTo('/admin/performance-reports')"
        aria-label="View Performance Reports">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-slate-400 group-hover:text-sky-400 transition-colors" aria-hidden="true">
          <line x1="18" y1="20" x2="18" y2="10"></line>
          <line x1="12" y1="20" x2="12" y2="4"></line>
          <line x1="6" y1="20" x2="6" y2="14"></line>
        </svg>
        <span class="font-medium">Performance Reports</span>
      </button>
    </ng-container>

  </div>

  <!-- Footer with Profile and Logout -->
  <div class="px-4 py-4 border-t border-primary-700/50 bg-primary-900/50">
    <div class="flex flex-col gap-3">
      <!-- Profile Button -->
      <button
        class="flex w-full items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 ease-in-out hover:bg-primary-700/50 group"
        (click)="navigateTo('/profile')">
        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center shadow-lg" aria-hidden="true">
          <span class="text-sm font-bold text-white">JD</span>
        </div>
        <div class="flex flex-col text-left">
          <span class="text-sm font-medium text-primary-100">John Doe</span>
          <span class="text-xs text-primary-300">View Profile</span>
        </div>
      </button>

      <!-- Logout Button -->
      <button
        (click)="logout()"
        class="flex w-full items-center gap-3 px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 ease-in-out hover:bg-primary-700/50 group text-primary-200 hover:text-primary-100"
        aria-label="Logout">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-5 h-5">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
        <span class="font-medium">Logout</span>
      </button>
    </div>
  </div>
</nav>
